server {
    # Nginx escuchará en el puerto 80 dentro del contenedor
    listen 80;

    # No necesitamos un nombre de servidor, escuchará a la IP
    server_name _;

    # Define la carpeta raíz donde están los archivos (coincide con tu Dockerfile)
    root /usr/share/nginx/html;

    # Sirve el index.html por defecto al acceder a un directorio
    index index.html index.htm;

    # --- LA PARTE MÁS IMPORTANTE PARA REACT (SPA) ---
    location / {
        # Intenta servir el archivo que pide el navegador (ej. /logo.png)
        # Si no lo encuentra, sirve el index.html
        # Esto permite que React Router maneje la ruta (ej. /login)
        try_files $uri $uri/ /index.html;
    }

    # Configuración opcional para cachear assets
    location ~* \.(css|js|png|jpg|jpeg|gif|ico|svg)$ {
        expires 1y;
        add_header Cache-Control "public";
    }
}